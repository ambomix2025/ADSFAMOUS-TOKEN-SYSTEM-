<!DOCTYPE html>
<html lang="ml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADSFAMOUS - Real-Time Token System</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); color: white; min-height: 100vh; padding: 10px; }
        .container { max-width: 800px; margin: 0 auto; padding: 15px; }
        .header { text-align: center; margin-bottom: 15px; padding: 10px; background: rgba(0, 0, 0, 0.3); border-radius: 10px; }
        .main-title { font-size: 2.2rem; font-weight: bold; margin-bottom: 5px; color: #ffcc00; }
        .sub-title { font-size: 1rem; margin-bottom: 15px; line-height: 1.3; }
        .current-section { background: rgba(0, 0, 0, 0.5); border-radius: 15px; padding: 20px; margin-bottom: 15px; text-align: center; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        .section-title { font-size: 1.3rem; margin-bottom: 10px; color: #ffcc00; }
        .current-customer { font-size: 2.5rem; font-weight: bold; margin: 15px 0; min-height: 70px; display: flex; align-items: center; justify-content: center; background: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 15px; }
        .queue-section { background: rgba(0, 0, 0, 0.5); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        .queue-title { font-size: 1.3rem; margin-bottom: 15px; color: #ffcc00; }
        .queue-list { list-style-type: none; }
        .queue-item { background: rgba(255, 255, 255, 0.1); margin-bottom: 10px; padding: 12px; border-radius: 8px; font-size: 1.2rem; }
        .info-box { background: rgba(0, 0, 0, 0.5); border-radius: 15px; padding: 15px; margin-bottom: 15px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); text-align: center; }
        .remaining-tokens { font-size: 1.5rem; font-weight: bold; color: #ffcc00; }
        .buttons-container { display: flex; justify-content: space-between; margin-top: 15px; gap: 10px; }
        .btn { padding: 12px 20px; border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; transition: all 0.3s; flex: 1; text-align: center; }
        .terms-btn { background: #3498db; color: white; }
        .my-turn-btn { background: #2ecc71; color: white; }
        .admin-btn { background: #e74c3c; color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
        .admin-panel, .login-panel, .my-turn-panel, .terms-panel { background: rgba(0, 0, 0, 0.8); border-radius: 15px; padding: 20px; margin-top: 20px; display: none; }
        .admin-title { font-size: 1.5rem; margin-bottom: 15px; color: #ffcc00; display: flex; justify-content: space-between; align-items: center; }
        .home-btn, .back-btn { background: #9b59b6; color: white; padding: 8px 15px; border-radius: 5px; font-size: 0.9rem; cursor: pointer; margin-top: 10px; }
        .back-btn { background: #95a5a6; width: 100%; }
        .admin-controls { display: flex; flex-direction: column; gap: 15px; }
        .input-group { display: flex; flex-direction: column; gap: 8px; }
        .input-group label { font-weight: bold; }
        .input-group input { padding: 10px; border-radius: 5px; border: none; font-size: 1rem; }
        .admin-buttons { display: flex; gap: 10px; }
        .add-btn { background: #2ecc71; color: white; }
        .next-btn { background: #f39c12; color: white; }
        .reset-btn { background: #e74c3c; color: white; }
        .login-title, .my-turn-title, .terms-title { font-size: 1.5rem; margin-bottom: 15px; color: #ffcc00; text-align: center; }
        .login-input { padding: 10px; border-radius: 5px; border: none; font-size: 1rem; width: 100%; margin-bottom: 15px; }
        .login-btn { background: #3498db; color: white; padding: 10px 20px; border-radius: 5px; border: none; font-size: 1rem; cursor: pointer; width: 100%; }
        .customer-list { list-style-type: none; max-height: 400px; overflow-y: auto; }
        .customer-item { background: rgba(255, 255, 255, 0.1); margin-bottom: 10px; padding: 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; }
        .customer-name { font-size: 1.2rem; font-weight: bold; }
        .customer-time { font-size: 0.9rem; color: #ccc; }
        .terms-content { text-align: left; line-height: 1.6; }
        .terms-content ol { padding-left: 20px; margin-bottom: 15px; }
        .terms-content li { margin-bottom: 10px; }
        .status-indicator { display: inline-block; width: 10px; height: 10px; border-radius: 50%; margin-right: 8px; }
        .status-online { background: #2ecc71; }
        .status-offline { background: #e74c3c; }
        @media (max-width: 600px) {
            .main-title { font-size: 1.8rem; }
            .current-customer { font-size: 2rem; }
            .queue-item { font-size: 1rem; }
            .buttons-container, .admin-buttons { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="main-title">ADSFAMOUS</h1>
            <p class="sub-title">A DIVISION OF HOME RANGE FACTORY<br>ALL KERALA HOUSEWIVES EMPOWERMENT ACTIVITIES</p>
            <div id="connectionStatus">
                <span class="status-indicator status-offline" id="statusIndicator"></span>
                <span id="statusText">Connecting...</span>
            </div>
        </div>
        
        <div class="current-section">
            <h2 class="section-title">‡¥á‡¥™‡µç‡¥™‡µã‡µæ ‡¥µ‡µº‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥§‡µÅ ‡¥ï‡µä‡¥£‡µç‡¥ü‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡µç</h2>
            <div class="current-customer" id="currentCustomer">-</div>
        </div>
        
        <div class="info-box">
            <div class="remaining-tokens">‡¥¨‡¥æ‡¥ï‡µç‡¥ï‡¥ø‡¥Ø‡µÅ‡¥≥‡µç‡¥≥ ‡¥ü‡µã‡¥ï‡µç‡¥ï‡¥£‡µÅ‡¥ï‡µæ: <span id="remainingTokens">80</span></div>
        </div>
        
        <div class="queue-section">
            <div class="queue-title">
                <span>‡¥Ö‡¥ü‡µÅ‡¥§‡µç‡¥§‡¥§‡¥æ‡¥Ø‡¥ø ‡¥ï‡µç‡¥Ø‡µÇ‡¥µ‡¥ø‡µΩ (Next 3)</span>
            </div>
            <ul class="queue-list" id="queueList">
                <li class="queue-item">-</li>
                <li class="queue-item">-</li>
                <li class="queue-item">-</li>
            </ul>
        </div>
        
        <div class="buttons-container">
            <button class="btn terms-btn" id="termsBtn">TERMS & Conditions</button>
            <button class="btn my-turn-btn" id="myTurnBtn">MY TURN</button>
            <button class="btn admin-btn" id="adminBtn">Admin Panel</button>
        </div>
        
        <div class="login-panel" id="loginPanel">
            <h2 class="login-title">Admin Login</h2>
            <input type="password" class="login-input" id="adminCode" placeholder="Enter Admin Code">
            <button class="login-btn" id="loginBtn">Login</button>
            <button class="back-btn" id="backFromLoginBtn">Back to Home</button>
        </div>
        
        <div class="admin-panel" id="adminPanel">
            <h2 class="admin-title">
                <span>Admin Panel</span>
                <button class="home-btn" id="homeBtn">Home</button>
            </h2>
            <div class="admin-controls">
                <div class="input-group">
                    <label for="customerName">‡¥™‡µá‡¥∞‡µç ‡¥ö‡µá‡µº‡¥ï‡µç‡¥ï‡µÅ‡¥ï (Add Name):</label>
                    <input type="text" id="customerName" placeholder="‡¥â‡¥™‡¥≠‡µã‡¥ï‡µç‡¥§‡¥æ‡¥µ‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥™‡µá‡¥∞‡µç">
                </div>
                <div class="admin-buttons">
                    <button class="btn add-btn" id="addCustomerBtn">‡¥™‡µá‡¥∞‡µç ‡¥ö‡µá‡µº‡¥ï‡µç‡¥ï‡µÅ‡¥ï</button>
                    <button class="btn next-btn" id="nextCustomerBtn">‡¥Ö‡¥ü‡µÅ‡¥§‡µç‡¥§‡¥Ø‡¥æ‡¥≥‡µÜ ‡¥µ‡¥ø‡¥≥‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï</button>
                    <button class="btn reset-btn" id="resetBtn">‡¥∏‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡¥Ç ‡¥±‡µÄ‡¥∏‡µÜ‡¥±‡µç‡¥±‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï</button>
                </div>
            </div>
        </div>
        
        <div class="my-turn-panel" id="myTurnPanel">
            <h2 class="my-turn-title">‡¥é‡¥®‡µç‡¥±‡µÜ ‡¥ü‡µá‡µ∫</h2>
            <ul class="customer-list" id="customerList"></ul>
            <button class="back-btn" id="backFromMyTurnBtn">Back to Home</button>
        </div>
        
        <div class="terms-panel" id="termsPanel">
            <h2 class="terms-title">‡¥ï‡¥Æ‡µç‡¥™‡¥®‡¥ø‡¥Ø‡µÅ‡¥ü‡µÜ ‡¥®‡¥ø‡¥¨‡¥®‡µç‡¥ß‡¥®‡¥ï‡¥≥‡µÅ‡¥Ç ‡¥®‡¥ø‡µº‡¥¶‡µç‡¥¶‡µá‡¥∂‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥Ç</h2>
            <div class="terms-content">
                <ol>
                    <li><strong>‡¥∏‡µá‡¥µ‡¥®‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥¨‡¥®‡µç‡¥ß‡¥™‡µç‡¥™‡µÜ‡¥ü‡µç‡¥ü ‡¥®‡¥ø‡µº‡¥¶‡µç‡¥¶‡µá‡¥∂‡¥ô‡µç‡¥ô‡µæ</strong><br>‡¥®‡¥Æ‡µç‡¥Æ‡µÅ‡¥ü‡µÜ ‡¥°‡¥ø‡¥∏‡µà‡¥®‡¥ø‡¥ô‡µç ‡¥∏‡µá‡¥µ‡¥®‡¥ô‡µç‡¥ô‡µæ ‡¥ï‡µá‡¥∞‡¥≥‡¥§‡µç‡¥§‡¥ø‡µΩ ‡¥Æ‡¥æ‡¥§‡µç‡¥∞‡¥Æ‡¥≤‡µç‡¥≤, ‡¥Ø‡µÇ‡¥±‡µã‡¥™‡µç‡¥Ø‡µª ‡¥∞‡¥æ‡¥ú‡µç‡¥Ø‡¥ô‡µç‡¥ô‡µæ, ‡¥ó‡µæ‡¥´‡µç ‡¥∞‡¥æ‡¥ú‡µç‡¥Ø‡¥ô‡µç‡¥ô‡µæ, ‡¥á‡¥®‡µç‡¥§‡µç‡¥Ø‡¥Ø‡¥ø‡¥≤‡µÜ ‡¥µ‡¥ø‡¥µ‡¥ø‡¥ß ‡¥∏‡¥Ç‡¥∏‡µç‡¥•‡¥æ‡¥®‡¥ô‡µç‡¥ô‡µæ ‡¥é‡¥®‡µç‡¥®‡¥ø‡¥µ‡¥ø‡¥ü‡¥ô‡µç‡¥ô‡¥≥‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µÅ‡¥Ç ‡¥µ‡µç‡¥Ø‡¥æ‡¥™‡¥ø‡¥ö‡µç‡¥ö‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ. ‡¥Ö‡¥§‡¥ø‡¥®‡¥æ‡µΩ, ‡¥¶‡¥Ø‡¥µ‡¥æ‡¥Ø‡¥ø ‡¥™‡µã‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥ô‡µç‡¥ô‡µæ ‡¥ï‡µÅ‡¥±‡¥û‡µç‡¥û‡¥§‡µç ‡¥í‡¥∞‡µÅ ‡¥¶‡¥ø‡¥µ‡¥∏‡¥Ç ‡¥Æ‡µÅ‡µª‡¥ï‡µÇ‡¥ü‡µç‡¥ü‡¥ø ‡¥¨‡µÅ‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥£‡¥Ç. ‡¥Ö‡¥ü‡¥ø‡¥Ø‡¥®‡µç‡¥§‡¥ø‡¥∞‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥Æ‡µÅ‡¥≥‡µç‡¥≥ ‡¥°‡¥ø‡¥∏‡µà‡µª ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡¥æ‡¥Ø‡¥ø ‡¥∏‡¥Æ‡¥Ø‡¥¨‡¥®‡µç‡¥ß‡¥ø‡¥§‡¥Æ‡¥æ‡¥Ø ‡¥Ö‡¥ß‡¥ø‡¥ï ‡¥ö‡¥æ‡µº‡¥ú‡µç ‡¥¨‡¥æ‡¥ß‡¥ï‡¥Æ‡¥æ‡¥Ø‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç.</li>
                    <li><strong>‡¥Ö‡¥ü‡¥ø‡¥Ø‡¥®‡µç‡¥§‡¥ø‡¥∞ ‡¥∏‡µá‡¥µ‡¥®‡¥ô‡µç‡¥ô‡µæ (Urgent Service)</strong><br>‡¥í‡¥∞‡µÅ ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡¥±‡¥ø‡¥®‡µÅ‡¥≥‡µç‡¥≥‡¥ø‡µΩ ‡¥™‡µã‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥™‡µç‡¥™‡µÜ‡¥ü‡µç‡¥ü‡¥æ‡µΩ, ‡¥û‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥Æ‡¥±‡µç‡¥±‡µÅ ‡¥é‡¥≤‡µç‡¥≤‡¥æ ‡¥ú‡µã‡¥≤‡¥ø‡¥ï‡¥≥‡µÅ‡¥Ç ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥ø‡¥µ‡µÜ‡¥ö‡µç‡¥ö‡µç ‡¥Ö‡¥§‡µç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡µá‡¥£‡µç‡¥ü ‡¥∏‡¥æ‡¥π‡¥ö‡¥∞‡µç‡¥Ø‡¥Æ‡µÅ‡¥£‡µç‡¥ü‡¥æ‡¥ï‡µÅ‡¥Ç. ‡¥Ö‡¥§‡¥ø‡¥®‡¥æ‡µΩ ‡¥á‡¥§‡µç‡¥§‡¥∞‡¥Ç ‡¥ï‡µá‡¥∏‡µÅ‡¥ï‡¥≥‡¥ø‡µΩ ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº ‡¥Ö‡¥ü‡¥ø‡¥∏‡µç‡¥•‡¥æ‡¥®‡¥§‡µç‡¥§‡¥ø‡¥≤‡µÅ‡¥≥‡µç‡¥≥ ‡¥™‡µç‡¥∞‡¥§‡µç‡¥Ø‡µá‡¥ï ‡¥®‡¥ø‡¥∞‡¥ï‡µç‡¥ï‡µç (Hourly Charge) ‡¥¨‡¥æ‡¥ß‡¥ï‡¥Æ‡¥æ‡¥ï‡µÅ‡¥Ç.</li>
                    <li><strong>‡¥∏‡¥Æ‡¥Ø‡¥™‡¥∞‡¥ø‡¥ß‡¥ø‡¥Ø‡µÅ‡¥Ç ‡¥®‡¥ø‡µº‡¥Æ‡¥æ‡¥£ ‡¥∏‡¥Æ‡¥Ø‡¥µ‡µÅ‡¥Ç</strong><br>‡¥™‡µã‡¥∏‡µç‡¥±‡µç‡¥±‡µº ‡¥°‡¥ø‡¥∏‡µà‡µª : ‡¥è‡¥ï‡¥¶‡µá‡¥∂‡¥Ç 3 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº<br>‡¥µ‡µÄ‡¥°‡¥ø‡¥Ø‡µã ‡¥°‡¥ø‡¥∏‡µà‡µª : ‡¥è‡¥ï‡¥¶‡µá‡¥∂‡¥Ç 6 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº<br>‡¥¨‡µç‡¥∞‡µó‡¥∑‡µº, ‡¥≤‡µã‡¥ó‡µã ‡¥§‡µÅ‡¥ü‡¥ô‡µç‡¥ô‡¥ø‡¥Ø‡¥µ : ‡¥è‡¥ï‡¥¶‡µá‡¥∂‡¥Ç 24 ‡¥Æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µÇ‡µº<br>‡¥¨‡µÅ‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥®‡µç‡¥® ‡¥∏‡¥Æ‡¥Ø‡¥§‡µç‡¥§‡µç ‡¥à ‡¥∏‡¥Æ‡¥Ø‡¥™‡¥∞‡¥ø‡¥ß‡¥ø‡¥ï‡µæ ‡¥Ö‡¥®‡µÅ‡¥∏‡¥∞‡¥ø‡¥ö‡µç‡¥ö‡µç ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡µç‡¥∞‡µã‡¥ú‡¥ï‡µç‡¥±‡µç‡¥±‡µç ‡¥∑‡µÜ‡¥°‡µç‡¥Ø‡µÇ‡µæ ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥Ç.</li>
                    <li><strong>‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø ‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡µæ ‡¥®‡µΩ‡¥ï‡µΩ</strong><br>‡¥°‡¥ø‡¥∏‡µà‡µª ‡¥Ü‡¥∞‡¥Ç‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡¥ø‡¥®‡µç ‡¥Æ‡µÅ‡¥Æ‡µç‡¥™‡µç, ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥®‡µç‡¥® ‡¥™‡µã‡¥∏‡µç‡¥±‡µç‡¥±‡¥±‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥∏‡¥æ‡¥Æ‡µç‡¥™‡¥ø‡µæ, ‡¥ü‡µÜ‡¥ï‡µç‡¥∏‡µç‡¥±‡µç‡¥±‡µç, ‡¥â‡µæ‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥§‡µç‡¥§‡µá‡¥£‡µç‡¥ü ‡¥ö‡¥ø‡¥§‡µç‡¥∞‡¥ô‡µç‡¥ô‡µæ, ‡¥®‡¥ø‡¥±‡¥ô‡µç‡¥ô‡µæ, ‡¥Ü‡¥∂‡¥Ø‡¥ô‡µç‡¥ô‡µæ ‡¥é‡¥®‡µç‡¥®‡¥ø‡¥µ ‡¥ï‡µÉ‡¥§‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø‡µÅ‡¥Ç ‡¥µ‡¥ø‡¥∂‡¥¶‡¥Æ‡¥æ‡¥Ø‡µÅ‡¥Ç ‡¥®‡µΩ‡¥ï‡¥£‡¥Ç. ‡¥á‡¥§‡¥ø‡¥≤‡µÇ‡¥ü‡µÜ ‡¥û‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡µç‡¥∞‡¥§‡µÄ‡¥ï‡µç‡¥∑‡¥ï‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥Ö‡¥®‡µÅ‡¥Ø‡µã‡¥ú‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø ‡¥∞‡µÄ‡¥§‡¥ø‡¥Ø‡¥ø‡µΩ ‡¥™‡µç‡¥∞‡¥µ‡µº‡¥§‡µç‡¥§‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥∏‡¥æ‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç.</li>
                    <li><strong>‡¥é‡¥°‡¥ø‡¥±‡µç‡¥±‡¥ø‡¥Ç‡¥ó‡µÅ‡¥Ç ‡¥§‡¥ø‡¥∞‡µÅ‡¥§‡µç‡¥§‡¥≤‡µÅ‡¥ï‡¥≥‡µÅ‡¥Ç</strong><br>‡¥î‡¥ü‡µç‡¥ü‡µç‡¥™‡µÅ‡¥ü‡µç‡¥ü‡µç ‡¥®‡µΩ‡¥ï‡¥ø‡¥Ø‡¥§‡¥ø‡¥®‡µç ‡¥∂‡µá‡¥∑‡¥Ç ‡¥ö‡µÜ‡¥±‡¥ø‡¥Ø ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥ô‡µç‡¥ô‡µæ ‡¥Æ‡¥æ‡¥§‡µç‡¥∞‡¥Æ‡µá (‡¥â‡¥¶‡¥æ: ‡¥®‡¥Æ‡µç‡¥™‡µº, ‡¥∏‡µç‡¥•‡¥≤‡¥Ç, ‡¥µ‡¥ø‡¥≤ ‡¥§‡µÅ‡¥ü‡¥ô‡µç‡¥ô‡¥ø‡¥Ø‡¥µ) ‡¥∏‡µó‡¥ú‡¥®‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥Ö‡¥®‡µÅ‡¥µ‡¥¶‡¥ø‡¥ï‡µç‡¥ï‡µÇ.<br>‡¥µ‡¥ø‡¥™‡µÅ‡¥≤‡¥Æ‡¥æ‡¥Ø ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥ô‡µç‡¥ô‡µæ ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥™‡µç‡¥™‡µÜ‡¥ü‡µç‡¥ü‡¥æ‡µΩ (‡¥â‡¥¶‡¥æ: ‡¥§‡µÄ‡¥Ç ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥Ç, ‡¥ï‡¥≥‡µº ‡¥ï‡µã‡µ∫‡¥∏‡µÜ‡¥™‡µç‡¥±‡µç‡¥±‡µç ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥Ç, ‡¥°‡¥ø‡¥∏‡µà‡µª ‡¥∏‡µç‡¥±‡µç‡¥±‡µà‡µΩ ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥Ç ‡¥é‡¥®‡µç‡¥®‡¥ø‡¥µ) ‡¥á‡¥™‡µç‡¥™‡µã‡¥¥‡¥§‡µç‡¥§‡µÜ ‡¥®‡¥ø‡¥∞‡¥ï‡µç‡¥ï‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥á‡¥∞‡¥ü‡µç‡¥ü‡¥ø ‡¥§‡µÅ‡¥ï ‡¥¨‡¥æ‡¥ß‡¥ï‡¥Æ‡¥æ‡¥ï‡µÅ‡¥Ç.</li>
                    <li><strong>‡¥™‡µç‡¥∞‡µÇ‡¥´‡µç ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡µÅ‡¥Ç ‡¥´‡µà‡¥®‡µΩ ‡¥ï‡µ∫‡¥´‡µº‡¥Æ‡µá‡¥∑‡¥®‡µÅ‡¥Ç</strong><br>‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥®‡µΩ‡¥ï‡µÅ‡¥®‡µç‡¥® ‡¥™‡µç‡¥∞‡µÇ‡¥´‡µç (Proof Output) ‡¥∂‡µç‡¥∞‡¥¶‡µç‡¥ß‡¥æ‡¥™‡µÇ‡µº‡¥µ‡¥Ç ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ö‡µç‡¥ö‡µç, ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥ô‡µç‡¥ô‡µæ ‡¥í‡¥±‡µç‡¥± ‡¥§‡¥µ‡¥£ ‡¥™‡¥±‡¥û‡µç‡¥û‡¥æ‡µΩ ‡¥®‡¥≤‡µç‡¥≤‡¥§‡µç.<br>‡¥™‡µÜ‡¥ü‡µç‡¥ü‡µÜ‡¥®‡µç‡¥®‡µç ‡¥Æ‡¥±‡µÅ‡¥™‡¥ü‡¥ø ‡¥®‡µΩ‡¥ï‡¥ø ‡¥™‡¥ø‡¥®‡µç‡¥®‡µÄ‡¥ü‡µç ‡¥ï‡µÇ‡¥ü‡µÅ‡¥§‡µΩ ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥ô‡µç‡¥ô‡µæ ‡¥Ü‡¥µ‡¥∂‡µç‡¥Ø‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥®‡µç‡¥®‡¥µ‡µº‡¥ï‡µç‡¥ï‡µç, ‡¥°‡¥¨‡¥ø‡µæ ‡¥ö‡¥æ‡µº‡¥ú‡µç (Double Edit Charge) ‡¥¨‡¥æ‡¥ß‡¥ï‡¥Æ‡¥æ‡¥Ø‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç. ‡¥Ö‡¥§‡¥ø‡¥®‡¥æ‡µΩ ‡¥´‡µà‡¥®‡µΩ ‡¥∏‡µç‡¥•‡¥ø‡¥∞‡µÄ‡¥ï‡¥∞‡¥£‡¥Ç ‡¥®‡µΩ‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡¥ø‡¥®‡µç ‡¥Æ‡µÅ‡¥Æ‡µç‡¥™‡µç ‡¥î‡¥ü‡µç‡¥ü‡µç‡¥™‡µÅ‡¥ü‡µç‡¥ü‡µç ‡¥®‡¥®‡µç‡¥®‡¥æ‡¥Ø‡¥ø ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï.</li>
                    <li><strong>‡¥™‡µÜ‡¥Ø‡µç‡¥Æ‡µÜ‡¥®‡µç‡¥±‡µç ‡¥®‡¥ø‡¥¨‡¥®‡µç‡¥ß‡¥®‡¥ï‡µæ</strong><br>‡¥™‡µç‡¥∞‡µã‡¥ú‡¥ï‡µç‡¥±‡µç‡¥±‡µç ‡¥¨‡µÅ‡¥ï‡µç‡¥ï‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥Æ‡µç‡¥™‡µã‡µæ ‡¥ï‡µÅ‡¥±‡¥û‡µç‡¥û‡¥§‡µç 50% ‡¥Ö‡¥°‡µç‡¥µ‡¥æ‡µª‡¥∏‡µç ‡¥®‡µΩ‡¥ï‡µá‡¥£‡µç‡¥ü‡¥§‡¥æ‡¥£‡µç. ‡¥¨‡¥æ‡¥ï‡µç‡¥ï‡¥ø‡¥Ø‡µÅ‡¥≥‡µç‡¥≥ ‡¥§‡µÅ‡¥ï ‡¥´‡µà‡¥®‡µΩ ‡¥î‡¥ü‡µç‡¥ü‡µç‡¥™‡µÅ‡¥ü‡µç‡¥ü‡µç ‡¥≤‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡¥ø‡¥®‡µÅ ‡¥Æ‡µÅ‡µª‡¥™‡µç ‡¥Ö‡¥ü‡¥Ø‡µç‡¥ï‡µç‡¥ï‡¥£‡¥Ç.</li>
                    <li><strong>‡¥ï‡¥æ‡¥™‡µç‡¥™‡¥ø‡¥±‡µà‡¥±‡µç‡¥±‡µç ‡¥Ö‡¥µ‡¥ï‡¥æ‡¥∂‡¥Ç</strong><br>‡¥ï‡¥Æ‡µç‡¥™‡¥®‡¥ø ‡¥à ‡¥°‡¥ø‡¥∏‡µà‡µª ‡¥´‡µç‡¥Ø‡µÇ‡¥ö‡µç‡¥ö‡µº ‡¥±‡¥´‡¥±‡µª‡¥∏‡¥æ‡¥Ø‡¥ø ‡¥™‡µç‡¥∞‡¥¶‡µº‡¥∂‡¥ø‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥Ö‡¥µ‡¥ï‡¥æ‡¥∂‡¥Ç ‡¥®‡¥ø‡¥≤‡¥®‡¥ø‡µº‡¥§‡µç‡¥§‡µÅ‡¥Ç.</li>
                    <li><strong>‡¥ï‡¥Æ‡µç‡¥Æ‡µç‡¥Ø‡µÇ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µá‡¥∑‡µª ‡¥Æ‡¥æ‡µº‡¥ó‡¥ô‡µç‡¥ô‡µæ</strong><br>‡¥µ‡µº‡¥ï‡µç‡¥ï‡¥ø‡¥®‡¥ø‡¥ü‡µÜ ‡¥é‡¥≤‡µç‡¥≤‡¥æ ‡¥Ü‡¥∂‡¥Ø‡¥µ‡¥ø‡¥®‡¥ø‡¥Æ‡¥Ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥Ç ‡¥ì‡¥´‡µÄ‡¥∑‡µç‡¥Ø‡µΩ ‡¥ö‡¥æ‡¥®‡¥≤‡µÅ‡¥ï‡µæ ‡¥µ‡¥¥‡¥ø‡¥Ø‡¥æ‡¥£‡µç (WhatsApp / Email / Company Portal) ‡¥®‡¥ü‡¥§‡µç‡¥§‡µá‡¥£‡µç‡¥ü‡¥§‡µç. ‡¥µ‡µç‡¥Ø‡¥ï‡µç‡¥§‡¥ø‡¥™‡¥∞‡¥Æ‡¥æ‡¥Ø ‡¥Ö‡¥ï‡µç‡¥ï‡µó‡¥£‡µç‡¥ü‡µÅ‡¥ï‡µæ ‡¥µ‡¥¥‡¥ø‡¥Ø‡µÅ‡¥≥‡µç‡¥≥ ‡¥ï‡¥Æ‡µç‡¥Æ‡µç‡¥Ø‡µÇ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡µá‡¥∑‡µª ‡¥ï‡¥Æ‡µç‡¥™‡¥®‡¥ø ‡¥Ö‡¥Ç‡¥ó‡µÄ‡¥ï‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡¥≤‡µç‡¥≤.</li>
                </ol>
                <p><strong>‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥∏‡¥π‡¥ï‡¥∞‡¥£‡¥§‡µç‡¥§‡¥ø‡¥®‡µÅ‡¥Ç ‡¥µ‡¥ø‡¥∂‡µç‡¥µ‡¥æ‡¥∏‡¥§‡µç‡¥§‡¥ø‡¥®‡µÅ‡¥Ç ‡¥®‡¥®‡µç‡¥¶‡¥ø!</strong><br>‡¥®‡¥Æ‡µÅ‡¥ï‡µç‡¥ï‡µç ‡¥í‡¥∞‡µÅ‡¥Æ‡¥ø‡¥ö‡µç‡¥ö‡µç ‡¥ï‡µÇ‡¥ü‡µÅ‡¥§‡µΩ ‡¥∏‡µÉ‡¥∑‡µç‡¥ü‡¥ø‡¥ï‡µæ ‡¥â‡¥£‡µç‡¥ü‡¥æ‡¥ï‡µç‡¥ï‡¥æ‡¥Ç üé®‚ú®</p>
            </div>
            <button class="back-btn" id="backFromTermsBtn">Back to Home</button>
        </div>
    </div>

    <script>
        // üî• Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBFSECaaEN21U27yaCXPww_3m30Xcctp8E",
            authDomain: "adsfamous-token-system.firebaseapp.com",
            databaseURL: "https://adsfamous-token-system-default-rtdb.firebaseio.com",
            projectId: "adsfamous-token-system",
            storageBucket: "adsfamous-token-system.firebasestorage.app",
            messagingSenderId: "466633428181",
            appId: "1:466633428181:web:c6a8e19a8a73ce0016a65c"
        };

        // Firebase ‡¥á‡¥®‡¥ø‡¥∑‡µç‡¥Ø‡¥≤‡µà‡¥∏‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Admin codes
        const adminCodes = [
            '3OOJ5NOG', 'Q3F41FOK', 'MOZ1N1OQ', 'QL1UGELD', 'PQ9IHZ1G',
            'E9J0ZZCY', 'Q52OD49Y', '5UTL7ROD', '3A7ZOW5W', 'BWMB0G1Y',
            '969DP3L6', 'UY4EY1DX', 'LXE43XDZ', 'OMYU8RPY', 'VHFL653M',
            '35F8K9C0', 'S8LRZQ5B', 'FN2CGG08', 'GYRU9RWW', 'H0W5537I',
            '02HVHX18', 'WKQHK1S8', 'B4VQQI5Z', 'CC2545I7', 'XLG5M2CM'
        ];
        
        const mainAdminCode = 'VJTHRF25';
        
        // DOM elements
        const currentCustomerEl = document.getElementById('currentCustomer');
        const queueListEl = document.getElementById('queueList');
        const remainingTokensEl = document.getElementById('remainingTokens');
        const customerListEl = document.getElementById('customerList');
        const statusIndicator = document.getElementById('statusIndicator');
        const statusText = document.getElementById('statusText');
        
        const adminBtn = document.getElementById('adminBtn');
        const loginPanel = document.getElementById('loginPanel');
        const adminPanel = document.getElementById('adminPanel');
        const loginBtn = document.getElementById('loginBtn');
        const adminCodeInput = document.getElementById('adminCode');
        const homeBtn = document.getElementById('homeBtn');
        const backFromLoginBtn = document.getElementById('backFromLoginBtn');
        const backFromMyTurnBtn = document.getElementById('backFromMyTurnBtn');
        const backFromTermsBtn = document.getElementById('backFromTermsBtn');
        
        const customerNameInput = document.getElementById('customerName');
        const addCustomerBtn = document.getElementById('addCustomerBtn');
        const nextCustomerBtn = document.getElementById('nextCustomerBtn');
        const resetBtn = document.getElementById('resetBtn');
        
        const termsBtn = document.getElementById('termsBtn');
        const termsPanel = document.getElementById('termsPanel');
        const myTurnBtn = document.getElementById('myTurnBtn');
        const myTurnPanel = document.getElementById('myTurnPanel');

        // Firebase connection status
        const connectedRef = database.ref(".info/connected");
        connectedRef.on("value", function(snap) {
            if (snap.val() === true) {
                statusIndicator.className = "status-indicator status-online";
                statusText.textContent = "Connected - Live Updates";
            } else {
                statusIndicator.className = "status-indicator status-offline";
                statusText.textContent = "Offline - Reconnecting...";
            }
        });

        // Firebase ‡¥°‡¥æ‡¥±‡µç‡¥± ‡¥≤‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡¥®‡µº‡¥∏‡µç
        function setupFirebaseListeners() {
            // Current customer listener
            database.ref('currentCustomer').on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    currentCustomerEl.textContent = data.name;
                } else {
                    currentCustomerEl.textContent = '-';
                }
            });

            // Queue listener
            database.ref('queue').on('value', (snapshot) => {
                const queue = snapshot.val() || [];
                const queueItems = queueListEl.querySelectorAll('.queue-item');
                
                for (let i = 0; i < 3; i++) {
                    if (queue[i]) {
                        queueItems[i].textContent = queue[i].name;
                    } else {
                        queueItems[i].textContent = '-';
                    }
                }
                
                updateRemainingTokens(queue);
            });

            // Customer history listener
            database.ref('customerHistory').on('value', (snapshot) => {
                const history = snapshot.val() || [];
                updateCustomerList(history);
            });
        }

        // Initialize Firebase listeners
        setupFirebaseListeners();

        // Event listeners
        adminBtn.addEventListener('click', () => {
            loginPanel.style.display = 'block';
            adminPanel.style.display = 'none';
            myTurnPanel.style.display = 'none';
            termsPanel.style.display = 'none';
        });
        
        loginBtn.addEventListener('click', () => {
            const code = adminCodeInput.value.trim();
            if (adminCodes.includes(code) || code === mainAdminCode) {
                loginPanel.style.display = 'none';
                adminPanel.style.display = 'block';
                
                // üîí IMPORTANT: Only show "Next Customer" button for main admin
                if (code === mainAdminCode) {
                    resetBtn.style.display = 'block';
                    nextCustomerBtn.style.display = 'block';
                } else {
                    resetBtn.style.display = 'none';
                    nextCustomerBtn.style.display = 'none';
                }
            } else {
                alert('Invalid admin code!');
            }
            adminCodeInput.value = '';
        });
        
        homeBtn.addEventListener('click', goToHome);
        backFromLoginBtn.addEventListener('click', goToHome);
        backFromMyTurnBtn.addEventListener('click', goToHome);
        backFromTermsBtn.addEventListener('click', goToHome);
        
        function goToHome() {
            adminPanel.style.display = 'none';
            loginPanel.style.display = 'none';
            myTurnPanel.style.display = 'none';
            termsPanel.style.display = 'none';
        }
        
        addCustomerBtn.addEventListener('click', () => {
            const name = customerNameInput.value.trim();
            if (name) {
                const now = new Date();
                const dateTime = now.toLocaleString('en-IN', {
                    timeZone: 'Asia/Kolkata',
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                
                // Firebase-‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥°‡¥æ‡¥±‡µç‡¥± ‡¥é‡¥¥‡µÅ‡¥§‡µÅ‡¥ï
                database.ref('queue').transaction((queue) => {
                    queue = queue || [];
                    queue.push({ name, addedAt: dateTime });
                    return queue;
                });
                
                database.ref('customerHistory').transaction((history) => {
                    history = history || [];
                    history.push({ name, addedAt: dateTime });
                    return history;
                });
                
                customerNameInput.value = '';
                playNotificationSound();
            }
        });
        
        nextCustomerBtn.addEventListener('click', () => {
            database.ref('queue').transaction((queue) => {
                if (queue && queue.length > 0) {
                    const nextCustomer = queue[0];
                    database.ref('currentCustomer').set(nextCustomer);
                    queue.shift();
                    return queue;
                }
                return queue;
            });
            
            playNotificationSound();
        });
        
        resetBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to reset the system? This will clear all data.')) {
                database.ref('currentCustomer').remove();
                database.ref('queue').set([]);
                database.ref('customerHistory').set([]);
            }
        });
        
        termsBtn.addEventListener('click', () => {
            termsPanel.style.display = 'block';
            adminPanel.style.display = 'none';
            loginPanel.style.display = 'none';
            myTurnPanel.style.display = 'none';
        });
        
        myTurnBtn.addEventListener('click', () => {
            myTurnPanel.style.display = 'block';
            adminPanel.style.display = 'none';
            loginPanel.style.display = 'none';
            termsPanel.style.display = 'none';
        });

        // Functions
        function updateRemainingTokens(queue) {
            const totalTokens = 80;
            const usedTokens = queue ? queue.length : 0;
            remainingTokensEl.textContent = totalTokens - usedTokens;
        }
        
        function updateCustomerList(history) {
            customerListEl.innerHTML = '';
            
            if (!history || history.length === 0) {
                const li = document.createElement('li');
                li.className = 'customer-item';
                li.textContent = 'No customers yet';
                customerListEl.appendChild(li);
            } else {
                history.forEach((customer, index) => {
                    const li = document.createElement('li');
                    li.className = 'customer-item';
                    
                    const nameSpan = document.createElement('span');
                    nameSpan.className = 'customer-name';
                    nameSpan.textContent = `${index + 1}. ${customer.name}`;
                    
                    const timeSpan = document.createElement('span');
                    timeSpan.className = 'customer-time';
                    timeSpan.textContent = customer.addedAt;
                    
                    li.appendChild(nameSpan);
                    li.appendChild(timeSpan);
                    customerListEl.appendChild(li);
                });
            }
        }
        
        function playNotificationSound() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 0.1);
            gainNode.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.3);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.3);
        }
    </script>
</body>
</html>